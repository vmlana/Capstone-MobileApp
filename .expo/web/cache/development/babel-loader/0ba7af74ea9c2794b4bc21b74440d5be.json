{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _defineProperty from \"@babel/runtime/helpers/defineProperty\";\n\nvar _OrientationLockAPITo, _OrientationWebToAPI;\n\nimport { SyntheticPlatformEmitter, Platform } from '@unimodules/core';\nimport { getOrientationLockAsync, getOrientationAsync } from \"./ScreenOrientation\";\nimport { Orientation, OrientationLock, WebOrientationLock, WebOrientation } from \"./ScreenOrientation.types\";\nvar OrientationLockAPIToWeb = (_OrientationLockAPITo = {}, _defineProperty(_OrientationLockAPITo, OrientationLock.DEFAULT, WebOrientationLock.NATURAL), _defineProperty(_OrientationLockAPITo, OrientationLock.ALL, WebOrientationLock.ANY), _defineProperty(_OrientationLockAPITo, OrientationLock.PORTRAIT, WebOrientationLock.PORTRAIT), _defineProperty(_OrientationLockAPITo, OrientationLock.PORTRAIT_UP, WebOrientationLock.PORTRAIT_PRIMARY), _defineProperty(_OrientationLockAPITo, OrientationLock.PORTRAIT_DOWN, WebOrientationLock.PORTRAIT_SECONDARY), _defineProperty(_OrientationLockAPITo, OrientationLock.LANDSCAPE, WebOrientationLock.LANDSCAPE), _defineProperty(_OrientationLockAPITo, OrientationLock.LANDSCAPE_LEFT, WebOrientationLock.LANDSCAPE_PRIMARY), _defineProperty(_OrientationLockAPITo, OrientationLock.LANDSCAPE_RIGHT, WebOrientationLock.LANDSCAPE_SECONDARY), _OrientationLockAPITo);\nvar OrientationWebToAPI = (_OrientationWebToAPI = {}, _defineProperty(_OrientationWebToAPI, WebOrientation.PORTRAIT_PRIMARY, Orientation.PORTRAIT_UP), _defineProperty(_OrientationWebToAPI, WebOrientation.PORTRAIT_SECONDARY, Orientation.PORTRAIT_DOWN), _defineProperty(_OrientationWebToAPI, WebOrientation.LANDSCAPE_PRIMARY, Orientation.LANDSCAPE_LEFT), _defineProperty(_OrientationWebToAPI, WebOrientation.LANDSCAPE_SECONDARY, Orientation.LANDSCAPE_RIGHT), _OrientationWebToAPI);\nvar screen = Platform.canUseViewport ? window.screen : {};\nvar orientation = Platform.canUseViewport ? screen.orientation || screen.msOrientation || null : null;\n\nfunction emitOrientationEvent() {\n  var _await$Promise$all, _await$Promise$all2, orientationLock, orientation;\n\n  return _regeneratorRuntime.async(function emitOrientationEvent$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return _regeneratorRuntime.awrap(Promise.all([getOrientationLockAsync(), getOrientationAsync()]));\n\n        case 2:\n          _await$Promise$all = _context.sent;\n          _await$Promise$all2 = _slicedToArray(_await$Promise$all, 2);\n          orientationLock = _await$Promise$all2[0];\n          orientation = _await$Promise$all2[1];\n          SyntheticPlatformEmitter.emit('expoDidUpdateDimensions', {\n            orientationLock: orientationLock,\n            orientationInfo: {\n              orientation: orientation\n            }\n          });\n\n        case 7:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nif (Platform.canUseEventListeners) {\n  if (orientation && orientation.addEventListener) {\n    orientation.addEventListener('change', emitOrientationEvent);\n  } else {\n    window.addEventListener('orientationchange', emitOrientationEvent);\n  }\n}\n\nfunction _convertToLegacyOrientationLock(orientationLock) {\n  switch (orientationLock) {\n    case WebOrientationLock.UNKNOWN:\n      throw new Error(\"expo-screen-orientation: WebOrientationLock.UNKNOWN is not a valid lock to be converted.\");\n\n    case WebOrientationLock.ANY:\n      return ['portrait', 'landscape'];\n\n    case WebOrientationLock.NATURAL:\n      return 'default';\n\n    default:\n      return orientationLock;\n  }\n}\n\nfunction _lockAsync(webOrientationLock) {\n  var legacyLock, lockOrientation, isSuccess;\n  return _regeneratorRuntime.async(function _lockAsync$(_context2) {\n    while (1) {\n      switch (_context2.prev = _context2.next) {\n        case 0:\n          if (!(webOrientationLock === WebOrientationLock.UNKNOWN)) {\n            _context2.next = 2;\n            break;\n          }\n\n          throw new Error(\"expo-screen-orientation: WebOrientationLock.UNKNOWN is not a valid lock that can be applied to the device.\");\n\n        case 2:\n          if (!(screen.orientation && screen.orientation.lock)) {\n            _context2.next = 7;\n            break;\n          }\n\n          _context2.next = 5;\n          return _regeneratorRuntime.awrap(screen.orientation.lock(webOrientationLock));\n\n        case 5:\n          _context2.next = 16;\n          break;\n\n        case 7:\n          if (!(screen['lockOrientation'] || screen['mozLockOrientation'] || screen['msLockOrientation'])) {\n            _context2.next = 15;\n            break;\n          }\n\n          legacyLock = _convertToLegacyOrientationLock(webOrientationLock);\n          lockOrientation = screen['lockOrientation'] || screen['mozLockOrientation'] || screen['msLockOrientation'];\n          isSuccess = lockOrientation.call(screen, legacyLock);\n\n          if (isSuccess) {\n            _context2.next = 13;\n            break;\n          }\n\n          throw new Error(\"Applying orientation lock: \" + JSON.stringify(webOrientationLock) + \" to device was denied\");\n\n        case 13:\n          _context2.next = 16;\n          break;\n\n        case 15:\n          throw new Error(\"expo-screen-orientation: The browser doesn't support locking screen orientation.\");\n\n        case 16:\n        case \"end\":\n          return _context2.stop();\n      }\n    }\n  }, null, null, null, Promise);\n}\n\nvar _lastWebOrientationLock = WebOrientationLock.UNKNOWN;\nexport default {\n  get name() {\n    return 'ExpoScreenOrientation';\n  },\n\n  supportsOrientationLockAsync: function supportsOrientationLockAsync(orientationLock) {\n    return _regeneratorRuntime.async(function supportsOrientationLockAsync$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", orientationLock in OrientationLockAPIToWeb);\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  getPlatformOrientationLockAsync: function getPlatformOrientationLockAsync() {\n    return _regeneratorRuntime.async(function getPlatformOrientationLockAsync$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", _lastWebOrientationLock);\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  getOrientationAsync: function getOrientationAsync() {\n    var webOrientation;\n    return _regeneratorRuntime.async(function getOrientationAsync$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            webOrientation = screen['msOrientation'] || (screen.orientation || screen['mozOrientation'] || {}).type;\n\n            if (webOrientation) {\n              _context5.next = 3;\n              break;\n            }\n\n            return _context5.abrupt(\"return\", Orientation.UNKNOWN);\n\n          case 3:\n            return _context5.abrupt(\"return\", OrientationWebToAPI[webOrientation]);\n\n          case 4:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  lockAsync: function lockAsync(orientationLock) {\n    var webOrientationLock;\n    return _regeneratorRuntime.async(function lockAsync$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            webOrientationLock = OrientationLockAPIToWeb[orientationLock];\n\n            if (webOrientationLock) {\n              _context6.next = 3;\n              break;\n            }\n\n            throw new TypeError(\"Invalid Orientation Lock: \" + orientationLock);\n\n          case 3:\n            _context6.next = 5;\n            return _regeneratorRuntime.awrap(_lockAsync(webOrientationLock));\n\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  lockPlatformAsync: function lockPlatformAsync(webOrientationLock) {\n    return _regeneratorRuntime.async(function lockPlatformAsync$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.next = 2;\n            return _regeneratorRuntime.awrap(_lockAsync(webOrientationLock));\n\n          case 2:\n            _lastWebOrientationLock = webOrientationLock;\n\n          case 3:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  },\n  unlockAsync: function unlockAsync() {\n    var unlockOrientation, isSuccess;\n    return _regeneratorRuntime.async(function unlockAsync$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            if (!(screen.orientation && screen.orientation.unlock)) {\n              _context8.next = 4;\n              break;\n            }\n\n            screen.orientation.unlock();\n            _context8.next = 12;\n            break;\n\n          case 4:\n            if (!(screen['unlockOrientation'] || screen['mozUnlockOrientation'] || screen['msUnlockOrientation'])) {\n              _context8.next = 11;\n              break;\n            }\n\n            unlockOrientation = screen['unlockOrientation'] || screen['mozUnlockOrientation'] || screen['msUnlockOrientation'];\n            isSuccess = unlockOrientation.call(screen);\n\n            if (isSuccess) {\n              _context8.next = 9;\n              break;\n            }\n\n            throw new Error(\"Unlocking screen orientation on device was denied\");\n\n          case 9:\n            _context8.next = 12;\n            break;\n\n          case 11:\n            throw new Error(\"expo-screen-orientation: The browser doesn't support unlocking screen orientation.\");\n\n          case 12:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n};","map":{"version":3,"sources":["../src/ExpoScreenOrientation.web.ts"],"names":[],"mappings":"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","sourcesContent":["import { SyntheticPlatformEmitter, Platform } from '@unimodules/core';\n\nimport { getOrientationLockAsync, getOrientationAsync } from './ScreenOrientation';\nimport {\n  Orientation,\n  OrientationLock,\n  WebOrientationLock,\n  WebOrientation,\n} from './ScreenOrientation.types';\n\nconst OrientationLockAPIToWeb: {\n  [lock: string]: WebOrientationLock;\n} = {\n  [OrientationLock.DEFAULT]: WebOrientationLock.NATURAL,\n  [OrientationLock.ALL]: WebOrientationLock.ANY,\n  [OrientationLock.PORTRAIT]: WebOrientationLock.PORTRAIT,\n  [OrientationLock.PORTRAIT_UP]: WebOrientationLock.PORTRAIT_PRIMARY,\n  [OrientationLock.PORTRAIT_DOWN]: WebOrientationLock.PORTRAIT_SECONDARY,\n  [OrientationLock.LANDSCAPE]: WebOrientationLock.LANDSCAPE,\n  [OrientationLock.LANDSCAPE_LEFT]: WebOrientationLock.LANDSCAPE_PRIMARY,\n  [OrientationLock.LANDSCAPE_RIGHT]: WebOrientationLock.LANDSCAPE_SECONDARY,\n};\n\nconst OrientationWebToAPI: {\n  [orientationWeb: string]: Orientation;\n} = {\n  [WebOrientation.PORTRAIT_PRIMARY]: Orientation.PORTRAIT_UP,\n  [WebOrientation.PORTRAIT_SECONDARY]: Orientation.PORTRAIT_DOWN,\n  [WebOrientation.LANDSCAPE_PRIMARY]: Orientation.LANDSCAPE_LEFT,\n  [WebOrientation.LANDSCAPE_SECONDARY]: Orientation.LANDSCAPE_RIGHT,\n};\n\ndeclare const window: Window;\n\nconst screen: Screen = Platform.canUseViewport ? window.screen : ({} as Screen);\nconst orientation: ScreenOrientation | null = Platform.canUseViewport\n  ? screen.orientation || (screen as any).msOrientation || null\n  : null;\n\nasync function emitOrientationEvent() {\n  const [orientationLock, orientation] = await Promise.all([\n    getOrientationLockAsync(),\n    getOrientationAsync(),\n  ]);\n  SyntheticPlatformEmitter.emit('expoDidUpdateDimensions', {\n    orientationLock,\n    orientationInfo: { orientation },\n  });\n}\n\nif (Platform.canUseEventListeners) {\n  if (orientation && orientation.addEventListener) {\n    orientation.addEventListener('change', emitOrientationEvent);\n  } else {\n    window.addEventListener('orientationchange', emitOrientationEvent);\n  }\n}\n\nfunction _convertToLegacyOrientationLock(orientationLock: WebOrientationLock): string | string[] {\n  switch (orientationLock) {\n    case WebOrientationLock.UNKNOWN:\n      throw new Error(\n        `expo-screen-orientation: WebOrientationLock.UNKNOWN is not a valid lock to be converted.`\n      );\n    case WebOrientationLock.ANY:\n      return ['portrait', 'landscape'];\n    case WebOrientationLock.NATURAL:\n      return 'default';\n    default:\n      return orientationLock;\n  }\n}\n\nasync function _lockAsync(webOrientationLock: WebOrientationLock): Promise<void> {\n  if (webOrientationLock === WebOrientationLock.UNKNOWN) {\n    throw new Error(\n      `expo-screen-orientation: WebOrientationLock.UNKNOWN is not a valid lock that can be applied to the device.`\n    );\n  }\n  if (screen.orientation && screen.orientation.lock) {\n    await screen.orientation.lock(webOrientationLock);\n  } else if (\n    screen['lockOrientation'] ||\n    screen['mozLockOrientation'] ||\n    screen['msLockOrientation']\n  ) {\n    const legacyLock = _convertToLegacyOrientationLock(webOrientationLock);\n    const lockOrientation =\n      screen['lockOrientation'] || screen['mozLockOrientation'] || screen['msLockOrientation'];\n    // correct `this` context must be passed in otherwise method call is disallowed by browser\n    const isSuccess = lockOrientation.call(screen, legacyLock);\n    if (!isSuccess) {\n      throw new Error(\n        `Applying orientation lock: ${JSON.stringify(webOrientationLock)} to device was denied`\n      );\n    }\n  } else {\n    throw new Error(\n      `expo-screen-orientation: The browser doesn't support locking screen orientation.`\n    );\n  }\n}\n\nlet _lastWebOrientationLock: WebOrientationLock = WebOrientationLock.UNKNOWN;\n\nexport default {\n  get name(): string {\n    return 'ExpoScreenOrientation';\n  },\n  async supportsOrientationLockAsync(orientationLock: OrientationLock): Promise<boolean> {\n    return orientationLock in OrientationLockAPIToWeb;\n  },\n  async getPlatformOrientationLockAsync(): Promise<WebOrientationLock> {\n    return _lastWebOrientationLock;\n  },\n  async getOrientationAsync(): Promise<Orientation> {\n    const webOrientation =\n      screen['msOrientation'] || (screen.orientation || screen['mozOrientation'] || {}).type;\n    if (!webOrientation) {\n      return Orientation.UNKNOWN;\n    }\n    return OrientationWebToAPI[webOrientation];\n  },\n  async lockAsync(orientationLock: OrientationLock): Promise<void> {\n    const webOrientationLock = OrientationLockAPIToWeb[orientationLock];\n    if (!webOrientationLock) {\n      throw new TypeError(`Invalid Orientation Lock: ${orientationLock}`);\n    }\n    await _lockAsync(webOrientationLock);\n  },\n  async lockPlatformAsync(webOrientationLock: WebOrientationLock): Promise<void> {\n    await _lockAsync(webOrientationLock);\n    _lastWebOrientationLock = webOrientationLock;\n  },\n  async unlockAsync(): Promise<void> {\n    if (screen.orientation && screen.orientation.unlock) {\n      screen.orientation.unlock();\n    } else if (\n      screen['unlockOrientation'] ||\n      screen['mozUnlockOrientation'] ||\n      screen['msUnlockOrientation']\n    ) {\n      const unlockOrientation =\n        screen['unlockOrientation'] ||\n        screen['mozUnlockOrientation'] ||\n        screen['msUnlockOrientation'];\n      // correct `this` context must be passed in otherwise method call is disallowed by browser\n      const isSuccess = unlockOrientation.call(screen);\n      if (!isSuccess) {\n        throw new Error(`Unlocking screen orientation on device was denied`);\n      }\n    } else {\n      throw new Error(\n        `expo-screen-orientation: The browser doesn't support unlocking screen orientation.`\n      );\n    }\n  },\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"module"}